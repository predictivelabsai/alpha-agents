{
  "agent_name": "TechQual-Enhanced-WithTools",
  "version": "2.0",
  "description": "Enhanced TechQual framework for technology company analysis with integrated research tools",
  "created_date": "2025-10-01",
  "instructions": "You are a senior equity research analyst specializing in technology companies. Your analysis will directly influence investment decisions, so maintain the highest standards of analytical rigor and objectivity.\n\nYour task is to conduct a comprehensive qualitative assessment using the enhanced TechQual framework, which evaluates technology companies across 11 critical dimensions. You have access to real-time research tools to gather current market data and insights.\n\nKEY ANALYTICAL PRINCIPLES:\n1. Provide evidence-based analysis with specific source citations\n2. Apply consistent scoring methodology across all dimensions\n3. Include quantitative confidence scores (0.0-1.0) for all assessments\n4. Identify and address contradictory evidence\n5. Generate actionable investment insights\n6. Utilize available research tools for current information\n7. Maintain analytical independence and objectivity\n\nANALYTICAL FRAMEWORK:\nEvaluate the company across these 11 dimensions:\n1. Total Addressable Market (TAM) - Market size, growth potential, addressability\n2. Competitive Differentiation - Unique value propositions, sustainable advantages\n3. Market Timing - Market readiness, adoption curves, competitive positioning timing\n4. Management Quality - Leadership effectiveness, execution capability, strategic vision\n5. Technology Moats - Technical barriers, IP strength, technological sustainability\n6. Platform & Ecosystem Effects - Network effects, platform dynamics, ecosystem development\n7. Sales & Go-to-Market - Channel effectiveness, customer acquisition, market penetration\n8. Unit Economics & Business Model - Profitability drivers, scaling economics, sustainability\n9. Financials & Capital Efficiency - Capital allocation, balance sheet strength, financial metrics\n10. ESG & Regulatory Factors - Environmental/social/governance considerations, regulatory risks\n11. Transformation & Innovation Potential - Business model evolution, innovation pipeline, adaptability\n\nSCORING METHODOLOGY:\n- Use 1-5 scale for each dimension (1=Very Weak, 2=Weak, 3=Neutral, 4=Strong, 5=Very Strong)\n- Provide detailed justification for each score\n- Include confidence level (0.0-1.0) for each assessment\n- Cite specific sources and evidence\n- Identify contradictory information when present\n\nCOMPETITIVE MOAT ANALYSIS:\nProvide detailed breakdown of competitive advantages:\n1. Brand Monopoly - Brand strength, customer loyalty, pricing power\n2. Barriers to Entry - Capital requirements, regulatory barriers, technical complexity\n3. Economies of Scale - Cost advantages, operational leverage, market share benefits\n4. Network Effects - User base value, platform effects, ecosystem lock-in\n5. Switching Costs - Customer switching barriers, integration complexity, data lock-in\n\nCOMPETITOR ANALYSIS:\nIdentify and analyze 3-5 key competitors with:\n- Business model comparison\n- Competitive positioning\n- Relative strengths/weaknesses\n- Market share dynamics\n- Strategic partnerships\n\nSTRATEGIC INSIGHTS:\nProvide forward-looking analysis including:\n- Key growth drivers (tailwinds)\n- Major risk factors (headwinds) \n- Catalysts for next 6-12 months\n- Red flags and warning signals\n- Transformation potential assessment\n- Platform expansion opportunities\n\nREQUIRED OUTPUT FORMAT:\nReturn results as valid JSON matching the specified schema. Include all required fields and use exact enumeration values. Ensure proper source citation throughout your analysis.",

  "input_schema": {
    "type": "object",
    "required": ["company", "ticker", "subsector"],
    "properties": {
      "company": {
        "type": "string",
        "description": "Full company name"
      },
      "ticker": {
        "type": "string",
        "description": "Stock ticker symbol"
      },
      "subsector": {
        "type": "string",
        "description": "Technology subsector"
      },
      "focus_themes": {
        "type": "array",
        "items": {"type": "string"},
        "description": "Specific areas of analytical focus"
      },
      "geographies_of_interest": {
        "type": "array",
        "items": {"type": "string"},
        "description": "Geographic markets of interest"
      },
      "lookback_window_months": {
        "type": "integer",
        "description": "Analysis timeframe in months",
        "default": 24
      },
      "tools_available": {
        "type": "array",
        "items": {
          "type": "string",
          "enum": [
            "Tavily",
            "Polygon",
            "Exa",
            "Twitter",
            "GuruFocus",
            "Reddit"
          ]
        },
        "description": "Available research tools for information gathering"
      }
    }
  },

  "output_schema": {
    "type": "object",
    "required": [
      "analysis_metadata",
      "dimensions_analysis",
      "moat_breakdown",
      "competitors_analysis",
      "insights",
      "audit"
    ],
    "properties": {
      "analysis_metadata": {
        "type": "object",
        "required": ["company", "ticker", "subsector", "analysis_date", "analyst"],
        "properties": {
          "company": {"type": "string"},
          "ticker": {"type": "string"},
          "subsector": {"type": "string"},
          "analysis_date": {"type": "string", "format": "date"},
          "analyst": {"type": "string", "default": "QualAgent-AI"},
          "focus_themes": {"type": "array", "items": {"type": "string"}},
          "geographies_analyzed": {"type": "array", "items": {"type": "string"}}
        }
      },

      "dimensions_analysis": {
        "type": "array",
        "items": {
          "type": "object",
          "required": ["name", "score", "justification", "confidence", "sources"],
          "properties": {
            "name": {
              "type": "string",
              "enum": [
                "Total Addressable Market (TAM)",
                "Competitive Differentiation",
                "Market Timing",
                "Management Quality",
                "Technology Moats",
                "Platform & Ecosystem Effects",
                "Sales & Go-to-Market",
                "Unit Economics & Business Model",
                "Financials & Capital Efficiency",
                "ESG & Regulatory Factors",
                "Transformation & Innovation Potential"
              ]
            },
            "score": {"type": "integer", "minimum": 1, "maximum": 5},
            "justification": {"type": "string"},
            "confidence": {"type": "number", "minimum": 0.0, "maximum": 1.0},
            "sources": {"type": "array", "items": {"type": "string"}},
            "reasoning_summaries": {
              "type": "object",
              "properties": {
                "supporting_evidence": {"type": "array", "items": {"type": "string"}},
                "counter_evidence": {"type": "array", "items": {"type": "string"}},
                "assumptions": {"type": "array", "items": {"type": "string"}},
                "contradictions": {"type": "array", "items": {"type": "string"}},
                "red_team_alternative": {"type": "string"}
              }
            }
          }
        }
      },

      "moat_breakdown": {
        "type": "object",
        "required": ["brand_monopoly", "barriers_to_entry", "economies_of_scale", "network_effects", "switching_costs", "overall_moat"],
        "properties": {
          "brand_monopoly": {
            "type": "object",
            "required": ["label", "notes", "sources"],
            "properties": {
              "label": {"type": "string", "enum": ["Very Weak", "Weak", "Neutral", "Strong", "Very Strong"]},
              "notes": {"type": "string"},
              "sources": {"type": "array", "items": {"type": "string"}}
            }
          },
          "barriers_to_entry": {
            "type": "object",
            "required": ["label", "notes", "sources"],
            "properties": {
              "label": {"type": "string", "enum": ["Very Weak", "Weak", "Neutral", "Strong", "Very Strong"]},
              "notes": {"type": "string"},
              "sources": {"type": "array", "items": {"type": "string"}}
            }
          },
          "economies_of_scale": {
            "type": "object",
            "required": ["label", "notes", "sources"],
            "properties": {
              "label": {"type": "string", "enum": ["Very Weak", "Weak", "Neutral", "Strong", "Very Strong"]},
              "notes": {"type": "string"},
              "sources": {"type": "array", "items": {"type": "string"}}
            }
          },
          "network_effects": {
            "type": "object",
            "required": ["label", "notes", "sources"],
            "properties": {
              "label": {"type": "string", "enum": ["Very Weak", "Weak", "Neutral", "Strong", "Very Strong"]},
              "notes": {"type": "string"},
              "sources": {"type": "array", "items": {"type": "string"}}
            }
          },
          "switching_costs": {
            "type": "object",
            "required": ["label", "notes", "sources"],
            "properties": {
              "label": {"type": "string", "enum": ["Very Weak", "Weak", "Neutral", "Strong", "Very Strong"]},
              "notes": {"type": "string"},
              "sources": {"type": "array", "items": {"type": "string"}}
            }
          },
          "overall_moat": {
            "type": "object",
            "required": ["score", "rollup_justification", "confidence"],
            "properties": {
              "score": {"type": "integer", "minimum": 1, "maximum": 5},
              "rollup_justification": {"type": "string"},
              "confidence": {"type": "number", "minimum": 0.0, "maximum": 1.0}
            }
          }
        }
      },

      "competitors_analysis": {
        "type": "array",
        "items": {
          "type": "object",
          "required": ["name", "ticker", "peer_role", "comparability_score"],
          "properties": {
            "name": {"type": "string"},
            "ticker": {"type": "string"},
            "peer_role": {
              "type": "string",
              "enum": ["Direct Competitor", "Indirect Competitor", "Adjacent Player", "Substitute Threat", "Platform Competitor"]
            },
            "comparability_score": {"type": "number", "minimum": 0.0, "maximum": 1.0},
            "business_model": {"type": "string"},
            "target_segments": {"type": "string"},
            "differentiators": {"type": "array", "items": {"type": "string"}},
            "moat_tags": {
              "type": "object",
              "properties": {
                "brand": {"type": "string", "enum": ["Weak", "Moderate", "Strong"]},
                "barriers": {"type": "string", "enum": ["Weak", "Moderate", "Strong"]},
                "scale": {"type": "string", "enum": ["Weak", "Moderate", "Strong"]},
                "network": {"type": "string", "enum": ["Weak", "Moderate", "Strong"]},
                "switching": {"type": "string", "enum": ["Weak", "Moderate", "Strong"]}
              }
            },
            "geographies": {"type": "array", "items": {"type": "string"}},
            "market_position": {"type": "string"},
            "partnerships_or_design_wins": {"type": "array", "items": {"type": "string"}},
            "peer_selection_rationale": {"type": "string"},
            "sources": {"type": "array", "items": {"type": "string"}}
          }
        }
      },

      "insights": {
        "type": "object",
        "required": ["key_tailwinds", "key_headwinds", "catalysts_next_6_12m", "red_flags"],
        "properties": {
          "key_tailwinds": {"type": "array", "items": {"type": "string"}},
          "key_headwinds": {"type": "array", "items": {"type": "string"}},
          "catalysts_next_6_12m": {"type": "array", "items": {"type": "string"}},
          "red_flags": {"type": "array", "items": {"type": "string"}},
          "transformation_potential": {"type": "string"},
          "platform_expansion_assessment": {"type": "string"},
          "market_timing_indicators": {"type": "string"},
          "competitive_displacement_potential": {"type": "string"}
        }
      },

      "audit": {
        "type": "object",
        "required": ["queries_run", "primary_source_used", "recency_ok", "contradictions_noted"],
        "properties": {
          "queries_run": {
            "type": "object",
            "properties": {
              "tavily": {"type": "array", "items": {"type": "string"}},
              "polygon": {"type": "array", "items": {"type": "string"}},
              "exa": {"type": "array", "items": {"type": "string"}},
              "twitter": {"type": "array", "items": {"type": "string"}},
              "gurufocus": {"type": "array", "items": {"type": "string"}},
              "reddit": {"type": "array", "items": {"type": "string"}}
            }
          },
          "primary_source_used": {"type": "string"},
          "recency_ok": {"type": "boolean"},
          "contradictions_noted": {"type": "boolean"},
          "tool_limitations": {"type": "string"},
          "step_alignment": {
            "type": "object",
            "properties": {
              "covered": {"type": "array", "items": {"type": "string"}},
              "qualitative_proxies_only": {"type": "array", "items": {"type": "string"}},
              "excluded": {"type": "array", "items": {"type": "string"}}
            }
          }
        }
      }
    }
  },

  "tools_integration": {
    "description": "Available research tools for enhanced analysis",
    "tools": {
      "Tavily": {
        "description": "Real-time web search and information retrieval",
        "use_cases": ["Recent news", "Market developments", "Product launches", "Financial results"],
        "example_queries": ["Q3 2024 earnings results", "recent partnerships", "product roadmap updates"]
      },
      "Polygon": {
        "description": "Real-time and historical financial market data",
        "use_cases": ["Stock performance", "Trading volumes", "Market capitalization", "Options flow"],
        "example_queries": ["Current stock price", "52-week performance", "institutional holdings"]
      },
      "Exa": {
        "description": "AI-powered semantic search for high-quality content",
        "use_cases": ["Technical analysis", "Strategic insights", "Competitive intelligence", "Market research"],
        "example_queries": ["competitive positioning analysis", "technology differentiation", "market opportunity assessment"]
      },
      "Twitter": {
        "description": "Social media sentiment and real-time discussions",
        "use_cases": ["Management communications", "Product feedback", "Market sentiment", "Breaking news"],
        "note": "Reference tool - use for context awareness"
      },
      "GuruFocus": {
        "description": "Fundamental financial data and metrics analysis",
        "use_cases": ["Financial ratios", "Insider trading", "Institutional ownership", "Valuation metrics"],
        "note": "Reference tool - use for context awareness"
      },
      "Reddit": {
        "description": "Community discussions and retail investor sentiment",
        "use_cases": ["Product reviews", "User experience", "Community sentiment", "Technical discussions"],
        "note": "Reference tool - use for context awareness"
      }
    }
  },

  "model_adaptations": {
    "llama": {
      "emphasis": "Step-by-step reasoning, explicit examples, factual accuracy",
      "optimization": "Clear logical structure, detailed justifications"
    },
    "mixtral": {
      "emphasis": "Multi-faceted reasoning, synthesis from diverse sources",
      "optimization": "Analytical rigor with key insights highlighted"
    },
    "qwen": {
      "emphasis": "Systematic evaluation, quantitative and qualitative balance",
      "optimization": "Comprehensive coverage with nuanced assessments"
    },
    "gpt": {
      "emphasis": "Natural analysis flow, insight generation",
      "optimization": "Minimal additional guidance needed"
    }
  }
}